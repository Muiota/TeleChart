var TeleChart=function(bK){var aO=window.parseInt,aC=Math.abs,f=Math.ceil,aB=Math.floor,bw=document,bq=undefined,v=true,p=false;var bf="line",al=12,W=25,aE=1.5,bc=5,N=20,bi=1,g=2,aV=3,bE=4,P=5,a9=6,bk=[2,5,10],aj=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bn=2*Math.PI,aT="px",E="bold ",bG=bI(ac),d=bI(a5);var a=bw.getElementById(bK),bx=a.offsetWidth*aE,I=bx*aE,t=aO(bx*al/100),j=bx-t-t*2,ao=t/2,n=j+t+bc*4,bP=n+t,e,k=by(bx,I,"m_"+bK),bu=by(bx,I,"f_"+bK),bJ=k.getContext("2d"),aM=bu.getContext("2d"),bH,ah=[],bz={},G,D,bC,bA,ap,af,l={s:0,e:0},aP,av,aX,ba,aU,ax,aK,aL,au,bO,bN,bB,B,bl,X,at,ar,L,bj=0,bm,bs,aF,ai=1,bd,R=120.5,U=100,M=0,an=0,ag,w,bF,c=0,y,aa,r,bv,a2,a1;function a7(){var bU=u("font-size"),bW=u("font-family"),bV=k.style;aM.lineJoin="round";var bR=aO(bU.replace(/\D/g,"")),bT=function(bX){a6(bX,v)},bS=function(bX){a6(bX,p)};ag=aO(bR*1.2);w=aO(bR*aE);r=ag+aT+" "+bW;a1=w+aT+" "+bW;bv=E+r;a2=E+a1;K(r);aF=be("XXX XX");bV.width=aO(bx/aE)+aT;bV.height=aO(I/aE)+aT;a.appendChild(k);k.onmousemove=aQ;k.ontouchmove=aQ;k.onmouseout=aQ;k.onmousedown=bT;k.onmouseup=bS;k.ontouchstart=bT;k.ontouchend=bS;window.addEventListener("scroll",Y);window.addEventListener("resize",Y);window.addEventListener("mouseup",bS);Y();ak()}function a5(bR){bN=bR}function bb(bR){ar=bR}function aH(bR){bj=bR}function i(bR){aP=bR;bF=v}function bg(bR){av=bR;bF=v}function ac(bR){au=bR}function F(bR){an=bR}function aZ(bR){M=bR}function A(bS,bR){bR.sOp=bS}function aY(bS,bR){bR.bPulse=bS}function bp(bR){ai=bR}function bD(){bH=null;ah=[];ak()}function z(){}function ak(){e=v}function az(bR){if(bR){bh(bR);ak()}}function u(bR){var bT=bw.body,bS=bT.currentStyle;if(bS){return bS[bR]}return bw.defaultView.getComputedStyle(bT,null)[bR]}function by(bT,bR,bU){var bS=bw.createElement("canvas");bS.id="lr_"+bU;bS.width=bT;bS.height=bR;return bS}function h(bS,bT){var bR=new Date(bS);return(bT?x[bR.getDay()]+", ":"")+aj[bR.getMonth()]+" "+bR.getDate()}function bo(bS,bR){return bR===bq||bS>bR?bS:bR}function J(bS,bR){return bR===bq||bS<bR?bS:bR}function ae(bR){k.style.cursor=bR}function S(bS){var bU=null,bT;if(D<n&&G>0&&G<bx){var bW=Math.round(G/bO+aU);if(q(au,ac,bW)){q(M,aZ,0)}bU=a9;ak()}else{if(D>n&&D<bP){bU=bi;var bX=(aP)*at,bR=(av)*at,bV=bX-G,bY=bR-G;if(aC(bV+bc)<bc){bU=g}else{if(aC(bY-bc)<bc){bU=aV}else{if(G>bX&&G<bR){l.s=bV/at;l.e=bY/at;bU=bE}}}}else{if(D>bP){for(bT in ah){var bZ=ah[bT];bZ.bO=p;if(G>bZ.bX&&G<bZ.bX+bZ.bW&&D>bZ.bY&&D<bZ.bY+bZ.bH){bZ.bO=v;bU=P}}}}}if(ap!==bU||bS){ap=bU;if(ap!==a9){q(an,F,0)}else{if(ap!==P){for(bT in ah){ah[bT].bO=p}}}switch(ap){case g:case aV:ae("col-resize");break;case bE:case P:ae("pointer");break;case a9:q(an,F,1);ae("inherit");break;default:ae("inherit");break}}}function aN(bR){bR.preventDefault();bR.stopPropagation()}function aD(bR){aX=bR;q(aP,i,bR)}function Q(bR){ba=bR;q(av,bg,bR)}function b(){if(!bH){return}var bT=G/at,bV=bH.data.length-2;if(bT<0){bT=0}else{if(bT>bV){bT=bV}}var bR=30/at;switch(ap){case g:if(av-bT>bR){aD(bT)}break;case aV:if(bT-aP>bR){Q(bT)}break;case bE:var bU=bT+l.s,bS=bT+l.e;if(bU<0){bU=0;bS=l.e-l.s}if(bS>bV){bS=bV;bU=bV-l.e+l.s}aD(bU);Q(bS);break}}function aQ(bU){aN(bU);var bT=bU.touches,bS,bR;if(bT&&bT.length){bS=bT[0].clientX;bR=bT[0].clientY}else{bS=bU.clientX;bR=bU.clientY}if(bS&&bR){G=aO((bS-bC)*aE);D=aO((bR-bA)*aE);if(!af){S()}else{b()}ak()}}function a6(bV,bU){aN(bV);aQ(bV);af=bU;if(bU){S(v);switch(ap){case bE:case g:case aV:q(bj,aH,1,15);bm=ap;break;case P:af=false;for(var bT in ah){var bS=ah[bT];if(bS.bO){bS.bOn=!bS.bOn;var bR=bS.bOn?1:0;q(bS.sOp,A,bR,bq,bS);q(0,aY,1,30,bS);a4();T()}}break}}else{q(bj,aH,0,15)}ak()}function Y(){console.log("calcMouseOffset");var bR=k.getBoundingClientRect();bC=bR.left;bA=bR.top;ak()}function s(bS,bU){if(bS.indexOf("#")!==-1){var bT=bS.length===7?/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i:/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var bR=bT.exec(bS);bS="rgb("+aO(bR[1],16)+","+aO(bR[2],16)+","+aO(bR[3],16)+")"}if(bS.indexOf("a")===-1){return bS.replace(")",", "+bU+")").replace("rgb","rgba")}return bS}function aJ(bR){aM.lineWidth=bR}function Z(){aM.beginPath()}function o(){aM.stroke()}function a3(){aM.closePath()}function be(bR){return aM.measureText(bR).width}function aA(bS,bR,bT){aM.fillText(bS,bR,bT)}function O(bS,bR,bT){if(bS){aM.moveTo(bR,bT)}else{aM.lineTo(bR,bT)}}function aR(bT,bS,bR,bU){aM.quadraticCurveTo(bT,bS,bR,bU)}function aS(){aM.fill()}function H(bS,bT,bR){aM.arc(bS,bT,bR,0,bn)}function a8(bR,bU,bS,bT){aM.fillRect(bR,bU,bS,bT)}function ay(bR){aM.strokeStyle=bR}function bt(bR){aM.fillStyle=bR}function K(bR){aM.font=bR}function C(bR,bS){aM.translate(bR,bS)}function am(){var bS=j+ao;Z();ay(s(y,0.1));aJ(1);var bT=bS;while(bT>ao){var bR=aO(bT)+0.5;O(v,0,bR);O(p,bx,bR);bT=bT+bs*bN}o()}function bQ(){var bW=j+ao,b1=s(y,0.4),bU=!bl||!af,bX;if(bU){bl=aK;X=aO(f((ax-aU)/6))}bt(aa);a8(0,n-t+bc*2,bx,t-bc*2);aJ(1);bt(b1);var bS=bl;if(!bU){while(bS-X>=aK){bS=bS-X}while(bS<aK){bS=bS+X}}for(bX=aK;bX<=aL;bX++){var bV=(bX-aU)*bO;if(bS<=bX){var b3=h(bH.data[bX]);aA(b3,bV,bW+bc*5);bS=bS+X}}var bY=0,bT=bW,bR=s(aa,0.7*ai);b1=s(y,0.4*ai);while(bT>ao){var b2=aO(bT)+0.5-bc;var b0=bY.toString();var bZ=be(b0);bt(bR);a8(bc/2,b2-ag+2,bZ+bc*2,ag);bt(b1);aA(b0,bc,b2);bY=aO(bY+bs);bT=bT+bs*bN}}function m(bS,bW,bV,bR,bU,bT){Z();ay(s(y,(bU?0.4:0.2)*bT));bt(s(aa,0.3+0.6*bT));aJ(1);O(v,bS+N,bW);O(p,bS+bV-N,bW);aR(bS+bV,bW,bS+bV,bW+N);O(p,bS+bV,bW+bR-N);aR(bS+bV,bW+bR,bS+bV-N,bW+bR);O(p,bS+N,bW+bR);aR(bS,bW+bR,bS,bW+bR-N);O(p,bS,bW+N);aR(bS,bW,bS+N,bW);a3();aS();o()}function aq(bU){var bT=bU.bX,bS=bU.bY,bV=bU.sC,bR=bU.name;m(bT,bS,bU.bW,bU.bH,bU.bO,1);bt(bV);Z();H(bT+N,bS+N,N-bc);aS();ay(aa);aJ(4);Z();C(-2,4);O(v,bT+N-bc,bS+N-bc);O(p,bT+N,bS+N);O(p,bT+N+bc*1.8,bS+N-bc*1.8);C(2,-4);o();Z();bt(aa);H(bT+N,bS+N,12-bU.sOp*12);aS();bt(y);K(a1);aA(bR,bT+N*2+bc+1,bS+N+ag/2-bc+2);K(r);Z();ay(s(y,(1-bU.bPulse)*0.4));aJ(10);H(bT+N,bS+N,bU.bPulse*30);o()}function br(){for(var bR in ah){aq(ah[bR])}}function V(){var b2=p,bT=j+ao,bW,bU,bV;for(bW in ah){var bX=ah[bW],bR=bX.sC;if(bX.bOn){b2=v}Z();aJ(2);ay(s(bR,bX.sOp));var b0=bH.data.length;for(bU=1;bU<b0;bU++){var b1=(bU-1)*at,bS=n+t+(bX.data[bU]-L)*ar;O(bU===1,b1,bS)}o();Z();aJ(3);for(bV=aK;bV<=aL;bV++){var bZ=(bV-aU)*bO,bY=bT+(bX.data[bV]-bB)*bN;O(bV===aU,bZ,bY)}o()}return b2}function bL(){var bS=j+ao,bY=(au-aU)*bO,b1=aB(au),bZ=b1+1,bU;Z();ay(s(y,0.4*an));aJ(1);O(v,bY,0);O(p,bY,j+ao);o();aJ(3);for(bU in ah){var bV=ah[bU],b0=bV.sC,b3=bS+(bV.data[b1]-bB)*bN,bW,bX=bV.sOp;if(b1===au||bZ>=ax){bW=b3}else{var b2=bS+(bV.data[bZ]-bB)*bN;bW=b3+(b2-b3)*(au-b1)}Z();bt(s(aa,bX*an));H(bY,bW,3);aS();Z();ay(s(b0,bX*an));H(bY,bW,5);o()}m(bY-25.5,N+0.5,R,U,v,an);K(bv);bt(s(y,an*M));aA(bd,bY-25+bc*3,N+bc*3+ag+0.5);var bT=N+bc*5+ag+0.5+w;for(bU in ah){var bR=ah[bU],b4=bR.sC,b5=bR.data[b1];if(!bR.bOn){continue}bt(s(b4,an*M));K(a2);aA(b5,bY-25+bc*3,bT);bT=bT+w+bc;K(r);aA(bR.name,bY-25+bc*3,bT);bT=bT+w+bc*2}}function aI(bT,bR){if(bj){var bS;if(bm===g){bS=bT}else{if(bm===aV){bS=bR}else{bS=bT+(bR-bT)/2}}Z();bt(s(y,(bj)*0.1));H(bS,n+t/2,bj*40);aS()}}function aW(){aM.clearRect(0,0,bx,I);if(bH&&ah&&ah.length){K(r);y=u("color");aa=u("background-color");var bR=(aX)*at,bT=(ba)*at;bt(s(y,0.3));a8(bR,n,bT-bR,t);bt(aa);a8(bR+bc*2,n+bc/2,bT-bR-bc*4,t-bc);am();var bS=V();bt(s(y,0.1));a8(0,n,bR,t);a8(bT,n,bx-bT,t);bt(s(aa,0.5));a8(0,n,bR,t);a8(bT,n,bx-bT,t);if(bS){bQ()}if(bS&&an>0){bL()}br();aI(bR,bT);bJ.clearRect(0,0,bx,I);bJ.drawImage(bu,0,0,bx,I)}}function a4(){at=(bx)/(bH.data.length-2);var bR=bq,bT=c,bU;for(bU in ah){var bS=ah[bU];if(bS.bOn){bR=bo(bS.max,bR);bT=J(bS.min,bT)}}if(bR){L=bT+1;if(q(ar,bb,-(t-2)/(bR-bT))){q(ai,bp,0,2)}}}function aG(){var bT=f((B-bB)/6),bR=bT/25,bU=0,bW=1,bV,bS;do{if(bU>=bk.length){bU=0;bW=bW*10}bS=bk[bU]*bW;bV=f(bT/bS)*bS;bU++}while(bV-bT<bR);bs=bV}function T(){aU=aP+1;ax=av+1;var bR=bq,bU=c,bW,bV;for(bW in ah){var bT=ah[bW];if(bT.bOn){aK=aB(aU);aL=f(ax);for(bV=aK;bV<=aL;bV++){var bS=bT.data[bV];bR=bo(bS,bR);bU=J(bS,bU)}}}if(bR){bO=bx/(ax-aU);bB=bU;B=bR;q(bN,a5,-(j-2)/(bR-bU));aG()}}function aw(){var bU=bc,bS=n+t+bc*6,bV=40,bW;K(a1);for(bW in ah){var bT=ah[bW],bR=40+bc*4+be(bT.name);if(bU+bR>bx){bU=bc;bS=bS+bV+bc*3}bT.bX=bU;bT.bY=bS;bT.bW=bR;bT.bH=bV;bU=bU+bR+bc*3}K(r)}function bh(bR){if(!bR){return}var bU=bR.columns,bV;if(bU){for(bV in bU){var b0=bU[bV],bS=b0.length,b1=bq,bX=bq,bY=b0[0];for(var bT=1;bT<bS;bT++){var bZ=b0[bT];b1=bo(bZ,b1);bX=J(bZ,bX)}if(bY==="x"){bH={data:b0,min:bX,max:b1};Q(bS-2);aD(ba-(ba)*W/100)}else{ah.push({alias:bY,data:b0,type:bf,name:bY+"etrewterter",min:bX,max:b1,bOn:v,sOp:1})}}a4();aw()}function bW(b6,b7){if(b6){for(var b4 in b6){var b3=b6[b4];for(var b5=0;b5<ah.length;b5++){var b2=ah[b5];if(b2.alias===b4){b2[b7]=b3}}}}}bW(bR.types,"type");bW(bR.colors,"sC")}function bI(bR){return bR.name||bR.toString().match(/^function\s*([^\s(]+)/)[1]}function q(bR,bW,bU,bT,bV){if(bR===bU||!bW){return p}var bS=bI(bW);if(bV){bS+=bV.alias}bz[bS]={i:bR,c:bW,p:bU,s:bT||(af||ap===a9?5:15),o:bV};return v}function bM(){for(var bR in bz){if(bz.hasOwnProperty(bR)){var bS=bz[bR];if(bS){if(!bS.f){bS.f=(bS.p-bS.i)/bS.s}bS.i=bS.i+bS.f;if(bS.f!==0&&aC(bS.i-bS.p)>aC(bS.f*2)){bS.c(bS.i,bS.o)}else{bS.c(bS.p,bS.o);delete bz[bR];a0(bR)}ak()}}}}function a0(bR){switch(bR){case bG:bd=h(bH.data[aB(au)],v);q(M,aZ,1,5);break;case d:q(ai,bp,1,10);break}}var ab;function ad(){bM();if(bF){bF=p;T()}if(e){e=p;aW();var bS=performance.now();var bR=(bS-ab)/1000;bJ.fillText("FPS "+aO(1/bR),10,90);ab=bS}requestAnimationFrame(ad)}a7();ad();return{draw:az,invalidate:ak,clear:bD,destroy:z}};