var TeleChart=function(s){var K="#3DC23F",h="line",R=12,J=25,P=5,k=1,aw=2,O=3,d=4,H=Math.pow(2,53)-1,u=-(Math.pow(2,53)-1),W=[2,5,10],q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var av=window.parseInt;var ag=document.getElementById(s),ap=ag.offsetWidth,j=ag.offsetHeight,aa=av(ap*R/100),aj=ap-aa-aa*2,E=aa/2,ak=j-aa,r=true,U=ad(ap,j,"m_"+s),ar=ad(ap,j,"f_"+s),o=U.getContext("2d"),x=ar.getContext("2d"),an=null,i=[],ac=0,ab=0,at=0,aq=0,m=false,ai=false,b={start:0,end:0},L=0,ax=0,ah=0,ay=0,f=0,e=0,T=0,n=0,G=0,F=0,V=0,c=0,B=true;function X(){an=null;i=[];g()}ag.appendChild(U);function l(az){var aA=document.body;if(aA.currentStyle){return aA.currentStyle[az]}return document.defaultView.getComputedStyle(aA,null)[az]}function ad(aB,az,aC){var aA=document.createElement("canvas");aA.id="layer_"+aC;aA.width=aB;aA.height=az;return aA}function z(aB){var aA=new Date(aB);var az=aA.getDate();var aC=aA.getMonth();return q[aC]+" "+az}function N(az){U.style.cursor=az}function ae(){var az=null;if(ab>ak){az=k;var aB=(L)*G;var aC=(ax)*G;var aD=aB-ac;var aA=aC-ac;if(Math.abs(aD+P)<P){az=aw}else{if(Math.abs(aA-P)<P){az=O}else{if(ac>aB&&ac<aC){b.start=aD/G;b.end=aA/G;az=d}}}}if(m!==az){m=az;switch(m){case aw:case O:N("col-resize");break;case d:N("pointer");break;default:N("inherit");break}}}function af(az){az.preventDefault();az.stopPropagation()}function S(){var aB=ac/G;var aC=an.data.length-2;if(aB<0){aB=0}else{if(aB>aC){aB=aC}}var az=30/G;switch(m){case aw:if(ax-aB>az){L=aB}v();break;case O:if(aB-L>az){ax=aB}v();break;case d:var aD=aB+b.start;var aA=aB+b.end;if(aD<0){aD=0;aA=b.end-b.start}if(aA>aC){aA=aC;aD=aC-b.end+b.start}L=aD;ax=aA;v();break}}function p(az){af(az);if(ai&&az.buttons!==1){ai=false}ac=av(az.clientX-at);ab=av(az.clientY-aq);if(!ai){ae()}else{S()}g()}function Y(aA,az){af(aA);ai=az;g()}U.onmousemove=function(az){p(az)};U.onmousedown=function(az){Y(az,true)};U.onmouseup=function(az){Y(az,false)};function g(){r=true}function A(){var az=U.getBoundingClientRect();at=az.left;aq=az.top;g()}window.addEventListener("scroll",function(az){A()});window.addEventListener("resize",function(az){A()});A();function a(){x.beginPath()}function C(az){x.lineWidth=az}function au(){x.stroke()}function I(aA,aC){if(aA.indexOf("#")!==-1){var aB=aA.length===7?/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i:/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var az=aB.exec(aA);aA="rgb("+av(az[1],16)+","+av(az[2],16)+","+av(az[3],16)+")"}if(aA.indexOf("a")===-1){return aA.replace(")",", "+aC+")").replace("rgb","rgba")}return aA}function ao(aA){var aB=aj+E;a();x.strokeStyle=I(aA,0.4);C(0.5);x.fillStyle=I(aA,0.6);var aC=aB;while(aC>E){var az=av(aC)+0.5;am(true,0,az);am(false,ap,az);aC=aC+c*e}au();return aC}function w(aD,aA){var aC=aj+E;var aF=0;var aB=aC;var az=I(aA,0.7);var aG=I(aD,0.6);while(aB>E){var aH=av(aB)+0.5-P;var aE=aF.toString();var aI=x.measureText(aE);x.fillStyle=az;x.fillRect(P-P,aH-P*1.6,aI.width+P*2,P*2.2);x.fillStyle=aG;x.fillText(aE,P,aH);aF=av(aF+c);aB=aB+c*e}}function am(aA,az,aB){if(aA){x.moveTo(az,aB)}else{x.lineTo(az,aB)}}function t(){x.clearRect(0,0,ap,j);if(an&&i&&i.length){var aM=an;var aN=(L)*G;var aH=(ax)*G;var aI=l("color");var aG=l("background-color");x.fillStyle=I(aI,0.4);x.fillRect(aN,ak,aH-aN,aa);x.fillStyle=aG;x.fillRect(aN+P,ak+P/2,aH-aN-P*2,aa-P);var aC=i.length;x.lineJoin="round";ao(aI);var aK=aj+E;for(var aE=0;aE<aC;aE++){var aL=i[aE];a();C(1);x.strokeStyle=aL.color;var aJ=aM.data.length;for(var aA=1;aA<aJ;aA++){var aB=(aA-1)*G;var aF=j+(aL.data[aA]-V)*F;am(aA===1,aB,aF)}au();a();C(2);for(var aD=ah;aD<=ay;aD++){var aP=(aD-ah)*f;var aO=aK+(aL.data[aD]-T)*e;am(aD===ah,aP,aO)}au();C(1);x.fillStyle=I(aI,0.6);for(var az=ah;az<=ay;az++){var aQ=(az-ah)*f;if(az===ah){var aR=z(aM.data[az]);x.fillText(aR,aQ,aK+P*4)}}}x.fillStyle=I(aI,0.1);x.fillRect(0,ak,aN,aa);x.fillRect(aH,ak,ap-aH,aa);x.fillStyle=I(aG,0.5);x.fillRect(0,ak,aN,aa);x.fillRect(aH,ak,ap-aH,aa);w(aI,aG)}}function M(){G=(ap)/(an.data.length-2);var az=B?0:u;var aB=H;for(var aC=0;aC<i.length;aC++){var aA=i[aC];if(!aA.enabled){continue}if(aA.max>az){az=aA.max}if(aA.min<aB){aB=aA.min}}F=-(aa-2)/(az-aB);V=aB+1}function y(){var aB=Math.ceil((n-T)/6),az=aB/25,aC=0,aE=1,aD,aA;do{if(aC>=W.length){aC=0;aE=aE*10}aA=W[aC]*aE;aD=Math.ceil(aB/aA)*aA;aC++}while(aD-aB<az);c=aD}function v(){ah=av(L+1);ay=av(ax+1);f=ap/(ay-ah);var az=u;var aC=B?0:H;for(var aE=0;aE<i.length;aE++){var aB=i[aE];if(!aB.enabled){continue}for(var aD=ah;aD<=ay;aD++){var aA=aB.data[aD];if(aA>az){az=aA}if(aA<aC){aC=aA}}}e=-(aj-2)/(az-aC);T=aC;n=az;y()}function al(az){if(!az){return}var aC=az.columns;if(aC){var aE=aC.length;for(var aD=0;aD<aE;aD++){var aI=aC[aD];var aA=aI.length;var aJ=u;var aG=H;for(var aB=1;aB<aA;aB++){var aH=aI[aB];if(aH>aJ){aJ=aH}if(aH<aG){aG=aH}}if(aI[0]==="x"){an={data:aI,min:aG,max:aJ};ax=(aA-2);L=ax-(ax)*J/100}else{i.push({alias:aI[0],data:aI,color:K,type:h,name:aI[0],min:aG,max:aJ,enabled:true})}}M();v()}function aF(aP,aQ){if(aP){var aL=i.length;for(var aO in aP){if(aP.hasOwnProperty(aO)){var aN=aP[aO];for(var aM=0;aM<aL;aM++){var aK=i[aM];if(aK.alias===aO){aK[aQ]=aN}}}}}}aF(az.types,"type");aF(az.colors,"color");aF(az.names,"name")}function Z(az){if(az){al(az);g()}}function Q(){if(r){r=false;t()}o.clearRect(0,0,ap,j);o.drawImage(ar,0,0,ap,j);requestAnimationFrame(Q);var az=performance.now()}Q();return{draw:Z,invalidate:g,clear:X}};