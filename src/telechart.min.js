var TeleChart=function(t){var h="line",X=12,P=25,k=1,C=1.5,U=5,aK=2,T=3,d=4,M=Math.pow(2,53)-1,x=-(Math.pow(2,53)-1),p=[2,5,10],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var aJ=window.parseInt;var ap=document.getElementById(t),aC=ap.offsetWidth*C,j=ap.offsetHeight*C,aj=aJ(aC*X/100),au=aC-aj-aj*2,J=aj/2,av=au+aj+U*4,s=true,aa=am(aC,j,"m_"+t),aE=am(aC,j,"f_"+t),o=aa.getContext("2d"),A=aE.getContext("2d"),az=null,i=[],al,ak,aF,aD,m=false,at=false,b={start:0,end:0},Q,aL,aq,aM,f,e,Z,n,L,K,ab,c,aA,u,G=true;function ae(){var aN=l("font-size"),aO=aa.style;A.lineJoin="round";u=aJ(aJ(aN.replace(/\D/g,""))*1.2);aN=u+"px";A.font=aN+" "+l("font-family");aA=aB("XXX XX");aO.width=aJ(aC/C)+"px";aO.height=aJ(j/C)+"px"}ae();function af(){az=null;i=[];g()}ap.appendChild(aa);function l(aN){var aO=document.body;if(aO.currentStyle){return aO.currentStyle[aN]}return document.defaultView.getComputedStyle(aO,null)[aN]}function am(aP,aN,aQ){var aO=document.createElement("canvas");aO.id="layer_"+aQ;aO.width=aP;aO.height=aN;return aO}function E(aP){var aO=new Date(aP);var aN=aO.getDate();var aQ=aO.getMonth();return r[aQ]+" "+aN}function S(aN){aa.style.cursor=aN}function an(){var aN=null;if(ak>av&&ak<av+aj){aN=k;var aP=(Q)*L;var aQ=(aL)*L;var aR=aP-al;var aO=aQ-al;if(Math.abs(aR+U)<U){aN=aK}else{if(Math.abs(aO-U)<U){aN=T}else{if(al>aP&&al<aQ){b.start=aR/L;b.end=aO/L;aN=d}}}}if(m!==aN){m=aN;switch(m){case aK:case T:S("col-resize");break;case d:S("pointer");break;default:S("inherit");break}}}function ao(aN){aN.preventDefault();aN.stopPropagation()}function Y(){var aP=al/L;var aQ=az.data.length-2;if(aP<0){aP=0}else{if(aP>aQ){aP=aQ}}var aN=30/L;switch(m){case aK:if(aL-aP>aN){Q=aP}y();break;case T:if(aP-Q>aN){aL=aP}y();break;case d:var aR=aP+b.start;var aO=aP+b.end;if(aR<0){aR=0;aO=b.end-b.start}if(aO>aQ){aO=aQ;aR=aQ-b.end+b.start}Q=aR;aL=aO;y();break}}function q(aN){ao(aN);if(at&&aN.buttons!==1){at=false}al=aJ((aN.clientX-aF)*C);ak=aJ((aN.clientY-aD)*C);if(!at){an()}else{Y()}g()}function ag(aO,aN){ao(aO);at=aN;g()}aa.onmousemove=function(aN){q(aN)};aa.onmousedown=function(aN){ag(aN,true)};aa.onmouseup=function(aN){ag(aN,false)};function g(){s=true}function F(){var aN=aa.getBoundingClientRect();aF=aN.left;aD=aN.top;g()}window.addEventListener("scroll",function(aN){F()});window.addEventListener("resize",function(aN){F()});F();function a(){A.beginPath()}function H(aN){A.lineWidth=aN}function aH(){A.stroke()}function aB(aN){return A.measureText(aN).width}function D(aP,aN,aQ,aO){A.fillText(aP,aN,aQ,aO)}function N(aO,aQ){if(aO.indexOf("#")!==-1){var aP=aO.length===7?/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i:/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var aN=aP.exec(aO);aO="rgb("+aJ(aN[1],16)+","+aJ(aN[2],16)+","+aJ(aN[3],16)+")"}if(aO.indexOf("a")===-1){return aO.replace(")",", "+aQ+")").replace("rgb","rgba")}return aO}function aw(aO){var aP=au+J;a();ar(N(aO,0.1));H(1);var aQ=aP;while(aQ>J){var aN=aJ(aQ)+0.5;ay(true,0,aN);ay(false,aC,aN);aQ=aQ+c*e}aH();return aQ}function z(aU,aO){var aS=au+J;var aZ=N(aU,0.4);H(1);ad(aZ);var aP=aq,aY=aJ(Math.ceil((aM-aq)/6));for(var aT=aq;aT<=aM;aT++){var aQ=(aT-aq)*f;if(aP<=aT){var a1=E(az.data[aT]);D(a1,aQ,aS+U*5);aP=aP+aY}}var aX=0;var aR=aS;var aN=N(aO,0.7);while(aR>J){var a0=aJ(aR)+0.5-U;var aW=aX.toString();var aV=aB(aW);ad(aN);ai(U/2,a0-u+2,aV+U*2,u);ad(aZ);D(aW,U,a0);aX=aJ(aX+c);aR=aR+c*e}}function ay(aO,aN,aP){if(aO){A.moveTo(aN,aP)}else{A.lineTo(aN,aP)}}function aI(aP,aO,aN,aQ){A.quadraticCurveTo(aP,aO,aN,aQ)}function ac(){A.closePath()}function w(){A.fill()}function aG(aO,aS,aN,aQ,aP,aR){A.arc(aO,aS,aN,aQ,aP,aR)}function ai(aN,aQ,aO,aP){A.fillRect(aN,aQ,aO,aP)}function ar(aN){A.strokeStyle=aN}function ad(aN){A.fillStyle=aN}function O(aN,aU,aT,aS,aO,aP,aQ){a();ar(N(aO,0.2));H(1);var aR=20;ay(true,aN+aR,aU);ay(false,aN+aT-aR,aU);aI(aN+aT,aU,aN+aT,aU+aR);aI(aN+aT,aU+aS,aN+aT-aR,aU+aS);ay(false,aN+aR,aU+aS);aI(aN,aU+aS,aN,aU+aS-aR);aI(aN,aU,aN+aR,aU);ac();aH();ad(aP);a();aG(aN+aR,aU+aR,14,0,2*Math.PI);w();ad(aO);D(aQ,aN+aR*2+U,aU+aR+u/2-U+2)}function V(aO){var aR=U,aP=av+aj+U*6,aS=40;for(var aT=0;aT<i.length;aT++){var aQ=i[aT],aN=40+U*4+aB(aQ.name);if(aR+aN>aC){aR=U;aP=aP+aS+U*3}O(aR,aP,aN,aS,aO,aQ.color,aQ.name);aR=aR+aN+U*3}}function v(){A.clearRect(0,0,aC,j);if(az&&i&&i.length){var aV=az;var a0=(Q)*L;var aO=(aL)*L;var aN=l("color");var aZ=l("background-color");ad(N(aN,0.3));ai(a0,av,aO-a0,aj);ad(aZ);ai(a0+U*2,av+U/2,aO-a0-U*4,aj-U);aw(aN);var aQ=au+J;for(var aT=0;aT<i.length;aT++){var aU=i[aT];a();H(2);ar(aU.color);var aY=aV.data.length;for(var aR=1;aR<aY;aR++){var a1=(aR-1)*L;var aP=av+aj+(aU.data[aR]-ab)*K;ay(aR===1,a1,aP)}aH();a();H(3);for(var aS=aq;aS<=aM;aS++){var aX=(aS-aq)*f;var aW=aQ+(aU.data[aS]-Z)*e;ay(aS===aq,aX,aW)}aH()}ad(N(aN,0.1));ai(0,av,a0,aj);ai(aO,av,aC-aO,aj);ad(N(aZ,0.5));ai(0,av,a0,aj);ai(aO,av,aC-aO,aj);z(aN,aZ);V(aN);o.clearRect(0,0,aC,j);o.drawImage(aE,0,0,aC,j)}}function R(){L=(aC)/(az.data.length-2);var aN=G?0:x;var aP=M;for(var aQ=0;aQ<i.length;aQ++){var aO=i[aQ];if(!aO.enabled){continue}if(aO.max>aN){aN=aO.max}if(aO.min<aP){aP=aO.min}}K=-(aj-2)/(aN-aP);ab=aP+1}function B(){var aP=Math.ceil((n-Z)/6),aN=aP/25,aQ=0,aS=1,aR,aO;do{if(aQ>=p.length){aQ=0;aS=aS*10}aO=p[aQ]*aS;aR=Math.ceil(aP/aO)*aO;aQ++}while(aR-aP<aN);c=aR}function y(){aq=aJ(Q+1);aM=aJ(aL+1);f=aC/(aM-aq);var aN=x;var aQ=G?0:M;for(var aS=0;aS<i.length;aS++){var aP=i[aS];if(!aP.enabled){continue}for(var aR=aq;aR<=aM;aR++){var aO=aP.data[aR];if(aO>aN){aN=aO}if(aO<aQ){aQ=aO}}}e=-(au-2)/(aN-aQ);Z=aQ;n=aN;B()}function ax(aN){if(!aN){return}var aQ=aN.columns;if(aQ){for(var aR=0;aR<aQ.length;aR++){var aV=aQ[aR];var aO=aV.length;var aW=x;var aT=M;for(var aP=1;aP<aO;aP++){var aU=aV[aP];if(aU>aW){aW=aU}if(aU<aT){aT=aU}}if(aV[0]==="x"){az={data:aV,min:aT,max:aW};aL=(aO-2);Q=aL-(aL)*P/100}else{i.push({alias:aV[0],data:aV,type:h,name:aV[0],min:aT,max:aW,enabled:true})}}R();y()}function aS(a1,a2){if(a1){for(var aZ in a1){if(a1.hasOwnProperty(aZ)){var aY=a1[aZ];for(var a0=0;a0<i.length;a0++){var aX=i[a0];if(aX.alias===aZ){aX[a2]=aY}}}}}}aS(aN.types,"type");aS(aN.colors,"color");aS(aN.names,"name")}function ah(aN){if(aN){ax(aN);g()}}function W(){if(s){s=false;v()}requestAnimationFrame(W)}W();return{draw:ah,invalidate:g,clear:af}};