var TeleChart=function(bJ){var aO=window.parseInt,aC=Math.abs,f=Math.ceil,aB=Math.floor,bw=document,bq=undefined,w=true,q=false;var bf="line",al=12,X=25,aE=1.5,bc=5,O=20,bi=1,g=2,aV=3,m=4,Q=5,a9=6,bk=[2,5,10],aj=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bn=2*Math.PI,aT="px",F="bold ",bF=bH(ac),d=bH(a5);var a=bw.getElementById(bJ),bx=a.offsetWidth*aE,J=bx*aE,u=aO(bx*al/100),j=bx-u-u*2,ao=u/2,o=j+u+bc*4,bO=o+u,e,k=by(bx,J,"m_"+bJ),bu=by(bx,J,"f_"+bJ),bI=k.getContext("2d"),aM=bu.getContext("2d"),bG,ah=[],bz={},H,E,bC,bA,ap,af,l={start:0,end:0},aP,av,aX,ba,aU,ax,aK,aL,au,bN,bM,bB,C,bl,Y,at,ar,M,bj=0,bm,bs,aF,ai=1,bd,S=120.5,V=100,N=0,an=0,ag,x,bE,c=0,z,ab,s,bv,a2,a1;function a7(){var bT=v("font-size"),bV=v("font-family"),bU=k.style;aM.lineJoin="round";var bR=aO(bT.replace(/\D/g,""));ag=aO(bR*1.2);x=aO(bR*aE);s=ag+aT+" "+bV;a1=x+aT+" "+bV;bv=F+s;a2=F+a1;L(s);aF=be("XXX XX");bU.width=aO(bx/aE)+aT;bU.height=aO(J/aE)+aT;a.appendChild(k);k.onmousemove=aQ;k.ontouchmove=aQ;k.onmouseout=aQ;var bQ=function(bW){a6(bW,w)};var bS=function(bW){a6(bW,q)};k.onmousedown=bQ;k.onmouseup=bS;k.ontouchstart=bQ;k.ontouchend=bS;window.addEventListener("scroll",Z);window.addEventListener("resize",Z);window.addEventListener("mouseup",bS);Z();ak()}function a5(bQ){bM=bQ}function bb(bQ){ar=bQ}function aH(bQ){bj=bQ}function i(bQ){aP=bQ;bE=w}function bg(bQ){av=bQ;bE=w}function ac(bQ){au=bQ}function G(bQ){an=bQ}function aZ(bQ){N=bQ}function B(bR,bQ){bQ.opacity=bR}function aY(bR,bQ){bQ.bPulse=bR}function bp(bQ){ai=bQ}function bD(){bG=null;ah=[];ak()}function A(){}function ak(){e=w}function az(bQ){if(bQ){bh(bQ);ak()}}function v(bQ){var bS=bw.body,bR=bS.currentStyle;if(bR){return bR[bQ]}return bw.defaultView.getComputedStyle(bS,null)[bQ]}function by(bS,bQ,bT){var bR=bw.createElement("canvas");bR.id="lr_"+bT;bR.width=bS;bR.height=bQ;return bR}function h(bR,bS){var bQ=new Date(bR);return(bS?y[bQ.getDay()]+", ":"")+aj[bQ.getMonth()]+" "+bQ.getDate()}function bo(bR,bQ){return bQ===bq||bR>bQ?bR:bQ}function K(bR,bQ){return bQ===bq||bR<bQ?bR:bQ}function ae(bQ){k.style.cursor=bQ}function T(bR){var bU=null;if(E<o&&H>0&&H<bx){var bW=Math.round(H/bN+aU);if(r(au,ac,bW)){r(N,aZ,0)}bU=a9;ak()}else{if(E>o&&E<bO){bU=bi;var bX=(aP)*at,bQ=(av)*at,bV=bX-H,bY=bQ-H;if(aC(bV+bc)<bc){bU=g}else{if(aC(bY-bc)<bc){bU=aV}else{if(H>bX&&H<bQ){l.start=bV/at;l.end=bY/at;bU=m}}}}else{if(E>bO){for(var bT=0;bT<ah.length;bT++){var bZ=ah[bT];bZ.bHovered=q;if(H>bZ.bX&&H<bZ.bX+bZ.bW&&E>bZ.bY&&E<bZ.bY+bZ.bH){bZ.bHovered=w;bU=Q}}}}}if(ap!==bU||bR){ap=bU;if(ap!==a9){r(an,G,0)}else{if(ap!==Q){for(var bS=0;bS<ah.length;bS++){ah[bS].bHovered=q}}}switch(ap){case g:case aV:ae("col-resize");break;case m:case Q:ae("pointer");break;case a9:r(an,G,1);ae("inherit");break;default:ae("inherit");break}}}function aN(bQ){bQ.preventDefault();bQ.stopPropagation()}function aD(bQ){aX=bQ;r(aP,i,bQ)}function R(bQ){ba=bQ;r(av,bg,bQ)}function b(){if(!bG){return}var bS=H/at,bU=bG.data.length-2;if(bS<0){bS=0}else{if(bS>bU){bS=bU}}var bQ=30/at;switch(ap){case g:if(av-bS>bQ){aD(bS)}break;case aV:if(bS-aP>bQ){R(bS)}break;case m:var bT=bS+l.start,bR=bS+l.end;if(bT<0){bT=0;bR=l.end-l.start}if(bR>bU){bR=bU;bT=bU-l.end+l.start}aD(bT);R(bR);break}}function aQ(bT){aN(bT);var bS=bT.touches,bR,bQ;if(bS&&bS.length){bR=bS[0].clientX;bQ=bS[0].clientY}else{bR=bT.clientX;bQ=bT.clientY}if(bR&&bQ){H=aO((bR-bC)*aE);E=aO((bQ-bA)*aE);if(!af){T()}else{b()}ak()}}function a6(bU,bT){aN(bU);aQ(bU);af=bT;if(bT){T(w);switch(ap){case m:case g:case aV:r(bj,aH,1,15);bm=ap;break;case Q:af=false;for(var bS=0;bS<ah.length;bS++){var bR=ah[bS];if(bR.bHovered){bR.enabled=!bR.enabled;var bQ=bR.enabled?1:0;r(bR.opacity,B,bQ,bq,bR);r(0,aY,1,30,bR);a4();U()}}break}}else{r(bj,aH,0,15)}ak()}function Z(){console.log("calcMouseOffset");var bQ=k.getBoundingClientRect();bC=bQ.left;bA=bQ.top;ak()}function t(bR,bT){if(bR.indexOf("#")!==-1){var bS=bR.length===7?/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i:/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var bQ=bS.exec(bR);bR="rgb("+aO(bQ[1],16)+","+aO(bQ[2],16)+","+aO(bQ[3],16)+")"}if(bR.indexOf("a")===-1){return bR.replace(")",", "+bT+")").replace("rgb","rgba")}return bR}function aJ(bQ){aM.lineWidth=bQ}function aa(){aM.beginPath()}function p(){aM.stroke()}function a3(){aM.closePath()}function be(bQ){return aM.measureText(bQ).width}function aA(bR,bQ,bS){aM.fillText(bR,bQ,bS)}function P(bR,bQ,bS){if(bR){aM.moveTo(bQ,bS)}else{aM.lineTo(bQ,bS)}}function aR(bS,bR,bQ,bT){aM.quadraticCurveTo(bS,bR,bQ,bT)}function aS(){aM.fill()}function I(bR,bS,bQ){aM.arc(bR,bS,bQ,0,bn)}function a8(bQ,bT,bR,bS){aM.fillRect(bQ,bT,bR,bS)}function ay(bQ){aM.strokeStyle=bQ}function bt(bQ){aM.fillStyle=bQ}function L(bQ){aM.font=bQ}function D(bQ,bR){aM.translate(bQ,bR)}function am(){var bR=j+ao;aa();ay(t(z,0.1));aJ(1);var bS=bR;while(bS>ao){var bQ=aO(bS)+0.5;P(w,0,bQ);P(q,bx,bQ);bS=bS+bs*bM}p()}function bP(){var bV=j+ao,b0=t(z,0.4),bT=!bl||!af;if(bT){bl=aK;Y=aO(f((ax-aU)/6))}bt(ab);a8(0,o-u+bc*2,bx,u-bc*2);aJ(1);bt(b0);var bR=bl;if(!bT){while(bR-Y>=aK){bR=bR-Y}while(bR<aK){bR=bR+Y}}for(var bW=aK;bW<=aL;bW++){var bU=(bW-aU)*bN;if(bR<=bW){var b2=h(bG.data[bW]);aA(b2,bU,bV+bc*5);bR=bR+Y}}var bX=0,bS=bV,bQ=t(ab,0.7*ai);b0=t(z,0.4*ai);while(bS>ao){var b1=aO(bS)+0.5-bc;var bZ=bX.toString();var bY=be(bZ);bt(bQ);a8(bc/2,b1-ag+2,bY+bc*2,ag);bt(b0);aA(bZ,bc,b1);bX=aO(bX+bs);bS=bS+bs*bM}}function n(bR,bV,bU,bQ,bT,bS){aa();ay(t(z,(bT?0.4:0.2)*bS));bt(t(ab,0.3+0.6*bS));aJ(1);P(w,bR+O,bV);P(q,bR+bU-O,bV);aR(bR+bU,bV,bR+bU,bV+O);P(q,bR+bU,bV+bQ-O);aR(bR+bU,bV+bQ,bR+bU-O,bV+bQ);P(q,bR+O,bV+bQ);aR(bR,bV+bQ,bR,bV+bQ-O);P(q,bR,bV+O);aR(bR,bV,bR+O,bV);a3();aS();p()}function aq(bT){var bS=bT.bX,bR=bT.bY,bU=bT.color,bQ=bT.name;n(bS,bR,bT.bW,bT.bH,bT.bHovered,1);bt(bU);aa();I(bS+O,bR+O,O-bc);aS();ay(ab);aJ(4);aa();D(-2,4);P(w,bS+O-bc,bR+O-bc);P(q,bS+O,bR+O);P(q,bS+O+bc*1.8,bR+O-bc*1.8);D(2,-4);p();aa();bt(ab);I(bS+O,bR+O,12-bT.opacity*12);aS();bt(z);L(a1);aA(bQ,bS+O*2+bc+1,bR+O+ag/2-bc+2);L(s);aa();ay(t(z,(1-bT.bPulse)*0.4));aJ(10);I(bS+O,bR+O,bT.bPulse*30);p()}function br(){for(var bR=0;bR<ah.length;bR++){var bQ=ah[bR];aq(bQ)}}function W(){var b1=q,bS=j+ao;for(var bV=0;bV<ah.length;bV++){var bW=ah[bV],bQ=bW.color;if(bW.enabled){b1=w}aa();aJ(2);ay(t(bQ,bW.opacity));var bZ=bG.data.length;for(var bT=1;bT<bZ;bT++){var b0=(bT-1)*at,bR=o+u+(bW.data[bT]-M)*ar;P(bT===1,b0,bR)}p();aa();aJ(3);for(var bU=aK;bU<=aL;bU++){var bY=(bU-aU)*bN,bX=bS+(bW.data[bU]-bB)*bM;P(bU===aU,bY,bX)}p()}return b1}function bK(){var bR=j+ao,bY=(au-aU)*bN,b1=aB(au),bZ=b1+1;aa();ay(t(z,0.4*an));aJ(1);P(w,bY,0);P(q,bY,j+ao);p();aJ(3);for(var bU=0;bU<ah.length;bU++){var bV=ah[bU],b0=bV.color,b3=bR+(bV.data[b1]-bB)*bM,bW,bX=bV.opacity;if(b1===au||bZ>=ax){bW=b3}else{var b2=bR+(bV.data[bZ]-bB)*bM;bW=b3+(b2-b3)*(au-b1)}aa();bt(t(ab,bX*an));I(bY,bW,3);aS();aa();ay(t(b0,bX*an));I(bY,bW,5);p()}n(bY-25.5,O+0.5,S,V,w,an);L(bv);bt(t(z,an*N));aA(bd,bY-25+bc*3,O+bc*3+ag+0.5);var bS=O+bc*5+ag+0.5+x;for(var bT=0;bT<ah.length;bT++){var bQ=ah[bT],b4=bQ.color,b5=bQ.data[b1];if(!bQ.enabled){continue}bt(t(b4,an*N));L(a2);aA(b5,bY-25+bc*3,bS);bS=bS+x+bc;L(s);aA(bQ.name,bY-25+bc*3,bS);bS=bS+x+bc*2}}function aI(bS,bQ){if(bj){var bR;if(bm===g){bR=bS}else{if(bm===aV){bR=bQ}else{bR=bS+(bQ-bS)/2}}aa();bt(t(z,(bj)*0.1));I(bR,o+u/2,bj*40);aS()}}function aW(){aM.clearRect(0,0,bx,J);if(bG&&ah&&ah.length){L(s);z=v("color");ab=v("background-color");var bQ=(aX)*at,bS=(ba)*at;bt(t(z,0.3));a8(bQ,o,bS-bQ,u);bt(ab);a8(bQ+bc*2,o+bc/2,bS-bQ-bc*4,u-bc);am();var bR=W();bt(t(z,0.1));a8(0,o,bQ,u);a8(bS,o,bx-bS,u);bt(t(ab,0.5));a8(0,o,bQ,u);a8(bS,o,bx-bS,u);if(bR){bP()}if(bR&&an>0){bK()}br();aI(bQ,bS);bI.clearRect(0,0,bx,J);bI.drawImage(bu,0,0,bx,J)}}function a4(){at=(bx)/(bG.data.length-2);var bQ=bq,bS=c;for(var bT=0;bT<ah.length;bT++){var bR=ah[bT];if(bR.enabled){bQ=bo(bR.max,bQ);bS=K(bR.min,bS)}}if(bQ){M=bS+1;if(r(ar,bb,-(u-2)/(bQ-bS))){r(ai,bp,0,2)}}}function aG(){var bS=f((C-bB)/6),bQ=bS/25,bT=0,bV=1,bU,bR;do{if(bT>=bk.length){bT=0;bV=bV*10}bR=bk[bT]*bV;bU=f(bS/bR)*bR;bT++}while(bU-bS<bQ);bs=bU}function U(){aU=aP+1;ax=av+1;var bQ=bq,bT=c;for(var bV=0;bV<ah.length;bV++){var bS=ah[bV];if(bS.enabled){aK=aB(aU);aL=f(ax);for(var bU=aK;bU<=aL;bU++){var bR=bS.data[bU];bQ=bo(bR,bQ);bT=K(bR,bT)}}}if(bQ){bN=bx/(ax-aU);bB=bT;C=bQ;r(bM,a5,-(j-2)/(bQ-bT));aG()}}function aw(){var bT=bc,bR=o+u+bc*6,bU=40;L(a1);for(var bV=0;bV<ah.length;bV++){var bS=ah[bV],bQ=40+bc*4+be(bS.name);if(bT+bQ>bx){bT=bc;bR=bR+bU+bc*3}bS.bX=bT;bS.bY=bR;bS.bW=bQ;bS.bH=bU;bT=bT+bQ+bc*3}L(s)}function bh(bQ){if(!bQ){return}var bT=bQ.columns;if(bT){for(var bU=0;bU<bT.length;bU++){var bY=bT[bU],bR=bY.length,bZ=bq,bW=bq;for(var bS=1;bS<bR;bS++){var bX=bY[bS];bZ=bo(bX,bZ);bW=K(bX,bW)}if(bY[0]==="x"){bG={data:bY,min:bW,max:bZ};R(bR-2);aD(ba-(ba)*X/100)}else{ah.push({alias:bY[0],data:bY,type:bf,name:bY[0]+"etrewterter",min:bW,max:bZ,enabled:w,opacity:1})}}a4();aw()}function bV(b4,b5){if(b4){for(var b2 in b4){if(b4.hasOwnProperty(b2)){var b1=b4[b2];for(var b3=0;b3<ah.length;b3++){var b0=ah[b3];if(b0.alias===b2){b0[b5]=b1}}}}}}bV(bQ.types,"type");bV(bQ.colors,"color")}function bH(bQ){return bQ.name||bQ.toString().match(/^function\s*([^\s(]+)/)[1]}function r(bQ,bV,bT,bS,bU){if(bQ===bT||!bV){return q}var bR=bH(bV);if(bU){bR+=bU.alias}bz[bR]={i:bQ,c:bV,p:bT,s:bS||(af?5:15),o:bU};return w}function bL(){for(var bQ in bz){if(bz.hasOwnProperty(bQ)){var bR=bz[bQ];if(bR){if(!bR.f){bR.f=(bR.p-bR.i)/bR.s}bR.i=bR.i+bR.f;if(bR.f!==0&&aC(bR.i-bR.p)>aC(bR.f*2)){bR.c(bR.i,bR.o)}else{bR.c(bR.p,bR.o);delete bz[bQ];a0(bQ)}ak()}}}}function a0(bQ){switch(bQ){case bF:bd=h(bG.data[aB(au)],w);r(N,aZ,1,5);break;case d:r(ai,bp,1,10);break}}function ad(){bL();if(bE){bE=q;U()}if(e){e=q;aW()}requestAnimationFrame(ad)}a7();ad();return{draw:az,invalidate:ak,clear:bD,destroy:A}};