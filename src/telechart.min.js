var TeleChart=function(S){var g="#3DC23F",R="line",n=12,q=25,B=5,D=1,U=2,I=3,X=4;var p=window.parseInt;var K=document.getElementById(S),m=K.offsetWidth,G=K.offsetHeight,W=p(m*n/100),u=G-W,J=true,f=z(m,G,"m_"+S),Z=z(m,G,"f_"+S),C=null,b=[],O=0,N=0,e=0,c=0,V=false,L=false,r={start:0,end:0},A=0,a=0,l=0,T=0,w=0,t=0,s=0,F=0;K.appendChild(f);function z(ac,aa,ad){var ab=document.createElement("canvas");ab.id="layer_"+ad;ab.width=ac;ab.height=aa;return ab}f.style.border="1px solid";function y(){var aa=null;if(N>u){aa=D;var ac=(A)*t;var ae=(a)*t;var af=ac-O;var ab=ae-O;if(Math.abs(af+B)<B){aa=U}else{if(Math.abs(ab-B)<B){aa=I}else{if(O>ac&&O<ae){r.start=af/t;r.end=ab/t;aa=X}}}}if(V!==aa){V=aa;var ad=f.style;switch(V){case U:case I:ad.cursor="col-resize";break;case X:ad.cursor="grab";break;default:ad.cursor="inherit";break}}}function M(aa){aa.preventDefault();aa.stopPropagation()}function E(){l=p(A+1);T=p(a);w=m/(T-l)}function h(){var ac=O/t;var ad=C.data.length-1;if(ac<0){ac=0}else{if(ac>ad){ac=ad}}var aa=30/t;switch(V){case U:if(a-ac>aa){A=ac}E();break;case I:if(ac-A>aa){a=ac}E();break;case X:var ae=ac+r.start;var ab=ac+r.end;if(ae<0){ae=0;ab=r.end-r.start}if(ab>ad){ab=ad;ae=ad-r.end+r.start}A=ae;a=ab;E();break}}function j(aa){M(aa);if(L&&aa.buttons!==1){L=false}O=p(aa.clientX-e);N=p(aa.clientY-c);if(!L){y()}else{h()}d()}function i(ab,aa){M(ab);L=aa;d()}f.onmousemove=function(aa){j(aa)};f.onmousedown=function(aa){i(aa,true)};f.onmouseup=function(aa){i(aa,false)};function d(){J=true}function x(){var aa=f.getBoundingClientRect();e=aa.left;c=aa.top;d()}x();window.addEventListener("scroll",function(aa){x()});function Q(an){an.clearRect(0,0,m,G);if(C&&b&&b.length){var ah=C;var al=(A)*t;var aa=(a)*t;an.fillStyle="#9f9f9f";an.fillRect(al,u,aa-al,W);an.fillStyle="#ffffff";an.fillRect(al+B,u+B,aa-al-B*2,W-B*2);var ag=b.length;for(var ae=0;ae<ag;ae++){var af=b[ae];an.beginPath();an.lineWidth=1;an.strokeStyle=af.color;var ak=ah.data.length;for(var ac=1;ac<ak;ac++){var am=(ac-1)*t;var ab=G+(af.data[ac]-F)*s;if(ac===1){an.moveTo(am,ab)}else{an.lineTo(am,ab)}}an.stroke();an.beginPath();an.lineWidth=2;for(var ad=l;ad<=T;ad++){var aj=(ad-l)*w;var ai=W+(af.data[ad]-s)*s;if(ac===l){an.moveTo(aj,ai)}else{an.lineTo(aj,ai)}}an.stroke()}an.fillStyle="rgba(241, 245, 248, 0.6)";an.fillRect(0,u,al,W);an.fillRect(aa,u,m-aa,W);an.fillStyle="#222222";an.fillText("selectionStartIndex "+l,10,50);an.fillText("selectionEndIndex "+T,10,70);an.fillText("selectionFactorX "+w,10,90)}}function k(){t=m/(C.data.length-1);var aa=Number.MIN_SAFE_INTEGER;var ac=Number.MAX_SAFE_INTEGER;for(var ad=0;ad<b.length;ad++){var ab=b[ad];if(ab.max>aa){aa=ab.max}if(ab.min<ac){ac=ab.min}}s=-W/(aa-ac);F=ac}function o(aa){if(!aa){return}var ac=aa.columns;if(ac){var ae=ac.length;for(var af=0;af<ae;af++){var aj=ac[af];var ab=aj.length;var ak=Number.MIN_SAFE_INTEGER;var ah=Number.MAX_SAFE_INTEGER;for(var ad=1;ad<ab;ad++){var ai=aj[ad];if(ai>ak){ak=ai}if(ai<ah){ah=ai}}if(aj[0]==="x"){C={data:aj,min:ah,max:ak};a=(ab-1);A=a-(a)*q/100;E()}else{b.push({alias:aj[0],data:aj,color:g,type:R,name:aj[0],min:ah,max:ak})}}k()}function ag(aq,ar){if(aq){var am=b.length;for(var ap in aq){if(aq.hasOwnProperty(ap)){var ao=aq[ap];for(var an=0;an<am;an++){var al=b[an];if(al.alias===ap){al[ar]=ao}}}}}}ag(aa.types,"type");ag(aa.colors,"color");ag(aa.names,"name")}function Y(aa){if(aa){o(aa);d()}}var v=f.getContext("2d"),P=Z.getContext("2d");function H(){if(J){J=false;Q(P)}v.clearRect(0,0,m,G);v.drawImage(Z,0,0,m,G);requestAnimationFrame(H)}H();return{draw:Y}};